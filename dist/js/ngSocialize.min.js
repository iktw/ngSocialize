angular.module("ngSocialize",[]),angular.module("ngSocialize").controller("SocializeYouTubeItemCtrl",["$scope","$log","SocializeYouTubeService",function(e,i,n){e.youTubeSnippet=null,e.showVideoModal=function(){e.youTubeSnippet.isActive=!0},e.closeVideoModal=function(){e.youTubeSnippet.isActive=!1},n.getVideoMeta(e.youTubeId).success(function(i,t,o,l){e.youTubeSnippet=i.items[0].snippet,e.youTubeSnippet.embedUrl=n.getEmbedUrl(e.youTubeId)}).error(function(e,n,t,o){i.error(o)})}]),angular.module("ngSocialize").directive("socialize",["SocializeService","SocializeYouTubeService","$compile","$timeout","$templateCache",function(e,i,n,t,o){var l=e.getSocialApplications(),u=e.getSocializeTemplates(),a=function(e){var n={};return n.youTube=i.getIds(e),n},c=function(e){angular.forEach(l,function(i){var n=u[i],t=o.get(n);e.append(t)})},s=function(i,o){t(function(){var t=o[0].innerText,l=e.getUrls(t),u=angular.element("<div>");c(u),i.socializeItems=a(l),n(u)(i),o.append(u)},0)};return{restrict:"A",link:s,scope:{}}}]),angular.module("ngSocialize").filter("characters",function(){return function(e,i,n){if(isNaN(i))return e;if(0>=i)return"";if(e&&e.length>i){if(e=e.substring(0,i),n)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var t=e.lastIndexOf(" ");-1!==t&&(e=e.substr(0,t))}return e+"..."}return e}}),angular.module("ngSocialize").provider("ngSocialize",function(){var e={youTube:""};return{setYouTubeAPIKey:function(i){e.youTube=i},$get:function(){return{youTubeAPIKey:e.youTube}}}}),angular.module("ngSocialize").service("SocializeService",function(){return{getSocialApplications:function(){return["youTube"]},getSocializeTemplates:function(){return{youTube:"ngSocialize/youtube/youtube-list.html"}},clearFromDuplicates:function(e){return e.filter(function(i,n){return e.indexOf(i)==n})},getUrls:function(e){var i=/(\b(https?|ftp|file):\/\/[-A-Z0-9&@#\/%?=~_|!:,.;]*[-A-Z0-9&@#\/%=~_|])/gi,n=[];return e.replace(i,function(e){n.push(e)}),n}}}),angular.module("ngSocialize").service("SocializeYouTubeService",["SocializeService","$http","$sce","ngSocialize",function(e,i,n,t){return{getVideoMeta:function(e){var n=t.youTubeAPIKey,o="https://www.googleapis.com/youtube/v3/videos?id="+e+"&part=snippet&key="+n;return i.get(o)},getEmbedUrl:function(e){return n.trustAsResourceUrl("http://www.youtube.com/embed/"+e+"?autoplay=1")},getIds:function(i){var n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.&v=))((\w|-){11})(?:\S)?$/,t=[];return angular.forEach(i,function(e){e.match(n)&&t.push(RegExp.$1)}),e.clearFromDuplicates(t)}}}]),angular.module("ngSocialize").run(["$templateCache",function(e){e.put("ngSocialize/youtube.html",'<section class="ng-socialize-list-video" ng-if="socializeItems.youTube.length">\n    <div class="ng-socialize-list-item" ng-show="youTubeSnippet" ng-repeat="youTubeId in socializeItems.youTube" ng-controller="SocializeYouTubeItemCtrl">\n        <div class="ng-socialize-list-item-thumbnail">\n            <div class="play_border">\n                <div class="play_button"></div>\n            </div>\n            <img ng-src="{{ youTubeSnippet.thumbnails.default.url }}">\n        </div>\n        <div class="ng-socialize-list-item-content">\n            <h2 class="ng-socialize-list-item-content-title">{{ youTubeSnippet.title }}</h2>\n\n            <p class="ng-socialize-list-item-content-description" ng-if="youTubeSnippet.description">\n                {{ youTubeSnippet.description | characters:80 }}\n            </p>\n        </div>\n        <small class="ng-socialize-list-item-domain">youtube.com</small>\n    </div>\n</section>\n\n\n<div class="video-modal-wrapper">\n    <div class="video-modal-inner">\n        <iframe width="420" height="315" src="http://www.youtube.com/embed/XGSy3_Czz8k?autoplay=1">\n        </iframe>\n    </div>\n</div>')}]),angular.module("ngSocialize").run(["$templateCache",function(e){e.put("ngSocialize/youtube/youtube-list.html",'<section class="ng-socialize-list-video" ng-if="socializeItems.youTube.length">\n    <div class="ng-socialize-list-item" ng-show="youTubeSnippet" ng-repeat="youTubeId in socializeItems.youTube" ng-controller="SocializeYouTubeItemCtrl">\n        <div class="ng-socialize-list-item-thumbnail">\n            <div class="play_border" ng-click="showVideoModal()">\n                <div class="play_button"></div>\n            </div>\n            <img ng-src="{{ youTubeSnippet.thumbnails.default.url }}">\n        </div>\n        <div class="ng-socialize-list-item-content">\n            <h2 class="ng-socialize-list-item-content-title">{{ youTubeSnippet.title }}</h2>\n            <p class="ng-socialize-list-item-content-description" ng-if="youTubeSnippet.description">\n                {{ youTubeSnippet.description | characters:80 }}\n            </p>\n        </div>\n        <small class="ng-socialize-list-item-domain">youtube.com</small>\n        <ng-include src="\'ngSocialize/youtube/youtube-modal.html\'" ng-if="youTubeSnippet.isActive"></ng-include>\n    </div>\n</section>')}]),angular.module("ngSocialize").run(["$templateCache",function(e){e.put("ngSocialize/youtube/youtube-modal.html",'<div class="video-modal-wrapper" ng-click="closeVideoModal();">\n    <div class="video-modal-inner" ng-click="$event.preventDefault();">\n        <div class="video-modal-close">x</div>\n        <iframe id="ytplayer" type="text/html" ng-src="{{ youTubeSnippet.embedUrl }}" frameborder="0"/>\n    </div>\n</div>')}]),angular.module("ngSocialize").run(["$templateCache",function(e){e.put("ngSocialize/youtube/youtube.html",'<section class="ng-socialize-list-video" ng-if="socializeItems.youTube.length">\n    <div class="ng-socialize-list-item" ng-show="youTubeSnippet" ng-repeat="youTubeId in socializeItems.youTube" ng-controller="SocializeYouTubeItemCtrl">\n        <div class="ng-socialize-list-item-thumbnail">\n            <div class="play_border">\n                <div class="play_button"></div>\n            </div>\n            <img ng-src="{{ youTubeSnippet.thumbnails.default.url }}">\n        </div>\n        <div class="ng-socialize-list-item-content">\n            <h2 class="ng-socialize-list-item-content-title">{{ youTubeSnippet.title }}</h2>\n\n            <p class="ng-socialize-list-item-content-description" ng-if="youTubeSnippet.description">\n                {{ youTubeSnippet.description | characters:80 }}\n            </p>\n        </div>\n        <small class="ng-socialize-list-item-domain">youtube.com</small>\n    </div>\n</section>\n\n\n<div class="video-modal-wrapper">\n    <div class="video-modal-inner">\n        <iframe width="420" height="315" src="http://www.youtube.com/embed/XGSy3_Czz8k?autoplay=1">\n        </iframe>\n    </div>\n</div>')}]);